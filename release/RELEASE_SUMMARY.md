# todo.ai v2.7.1 - Critical Release Infrastructure Fixes

This patch release resolves two critical bugs in the release infrastructure discovered during the v2.7.0 release cycle. The first issue involved version detection relying on a mutable file variable, which allowed manual edits to create "phantom versions" that didn't exist in GitHub releases. This led to version numbering inconsistencies and incorrect release proposals. The fix makes GitHub releases the primary source of truth for version detection, with the file VERSION becoming a placeholder automatically updated during releases. This change provides immutable version history, self-healing behavior, and prevents automated agents from accidentally corrupting version information.

The second issue was a regex pattern bug in the commit range analyzer that caused it to analyze the entire repository history instead of just commits since the last release. This resulted in detecting outdated breaking change markers and incorrectly proposing major version bumps when only patch fixes were present. The fix corrects the pattern matching logic to properly isolate commits between releases, ensuring accurate version bump classification based on recent changes only.

A comprehensive incident analysis document has been added at `docs/analysis/VERSION_2.6.0_INCIDENT_ANALYSIS.md` detailing the root cause, timeline, and lessons learned from these issues. These fixes are transparent infrastructure improvements requiring no user action - the next update will automatically benefit from the enhanced version detection and release classification.
