---
description: "Commit message prefix guidelines for release numbering"
alwaysApply: true
---

When making commits, use explicit prefixes to help the release script correctly determine version bumps:

**Backend/Infrastructure Commits (will be PATCH releases):**
- `backend:` - Backend infrastructure changes (e.g., `backend: Fix release script error handling`)
- `infra:` - Infrastructure improvements (e.g., `infra: Add release logging`)
- `release:` - Release process improvements (e.g., `release: Add commit link support`)
- `internal:` - Internal refactoring (e.g., `internal: Refactor version update function`)

**Frontend/User-Facing Commits (can be MINOR/MAJOR):**
- `feat:` - New features for users (e.g., `feat: Add task filtering command`)
- `fix:` - Bug fixes that affect users (e.g., `fix: Correct task modification logic`)
- `docs:` - User-facing documentation (e.g., `docs: Update README with examples`)

**Special Cases:**
- Backend-only releases (only infrastructure changes) are automatically detected as PATCH
- If you forget a prefix, file analysis will catch backend-only changes
- Mixed releases (both frontend and backend) use keyword analysis

**Task Number References:**
- **MUST use `task#nn` format** (e.g., `task#15`, `task#50`) when referencing todo.ai task numbers in commit messages
- **NEVER use `#nn` format** for task numbers - this causes GitHub to auto-link to issues/PRs
- ✅ Correct: `feat: Implement git hooks with pre-commit validation (task#15)`
- ✅ Correct: `Archive completed task#15 (git hooks), delete task#21`
- ❌ Incorrect: `feat: Implement git hooks (#15)` - will auto-link to issue #15
- ❌ Incorrect: `feat: Implement git hooks (task #15)` - space breaks pattern

