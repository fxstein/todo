---
description: "Bug reporting rules for todo.ai"
alwaysApply: true
---
When todo.ai encounters errors or unexpected behavior, or when the user asks to report a bug:

**CRITICAL REQUIREMENTS:**
1. **MUST use `./todo.ai report-bug` command** - This is the ONLY way to report bugs about todo.ai
2. **NEVER use `gh issue create` directly** - This bypasses all safeguards and duplicate detection
3. **NEVER use GitHub API directly** for bug reports - Always go through the bug reporting feature

**AI Agent Workflow:**
- AI agents are automatically detected (CURSOR_AI, AI_AGENT env vars)
- Bug reports auto-submit after 2-second preview - no prompts needed
- Enables fast, automated error reporting for agents

**Human Workflow:**
- Humans get confirmation prompts before submission
- Full preview shown before asking for approval
- Maintains user control and privacy protection

**Usage:**
```bash
./todo.ai report-bug "Error description" "Error context" "command"
```

**Agent Example:**
When error occurs, simply call `./todo.ai report-bug` - it will show preview and auto-submit

**Why this is required:**
- Includes duplicate detection and smart error categorization
- Auto-collects context: git status, recent commands, TODO.md state, environment
- Proper markdown formatting with GitHub callout blocks
- Intelligent label suggestions (crash, performance, OS-specific, shell-specific)
